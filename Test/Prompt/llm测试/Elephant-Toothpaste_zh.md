大象牙膏实验测试
------------------------

(CC-BY-NC-SA 4.0 by karminski-牙医)

请使用 three.js 实现一个逼真的"大象牙膏"化学实验 3D 演示。所有代码（包括 HTML、CSS、JavaScript）必须封装在一个独立的 HTML 文件中。

**场景设置：**

1.  **地面平面：** 创建一个 1000*1000 的灰色平滑水平平面，可以接收阴影。

2.  **锥形瓶（Erlenmeyer Flask）：**
    *   **形状：** 在平面中心放置一个透明玻璃锥形瓶。烧瓶应该具有清晰的轮廓：圆柱形瓶颈、逐渐扩大的锥形主体和平坦的底部。不要使用简单的圆锥体作为替代。
    *   **材质：** 烧瓶材质应该是高透明度的玻璃，具有适当的高透射率、低粗糙度和正确的折射率来模拟玻璃。设置 `{ color: 0xffffff, transparent: true, opacity: 0.9, roughness: 0.95, metalness: 0.35, clearcoat: 1.0, clearcoatRoughness: 0.03, transmission: 0.95, ior: 1.5, side: THREE.DoubleSide }` 来观察通过液体的背景和光折射效果。
    *   **液体：** 烧瓶预先装入荧光粉色液体，大约到其高度的三分之一。液体表面应该是平坦的并贴合烧瓶的内壁。注意参考锥形瓶的建模形状 - 理想情况下复制锥形瓶的部分锥形，不要让液体建模从烧瓶中溢出。
    *   **注意：** 整个锥形瓶模型应该向上定向。

**"大象牙膏"喷发效果模拟：**

1.  **触发：** 页面在页脚位置提供一个按钮，点击时开始喷发。

2.  **泡沫形成和质地：**
    *   喷射出的泡沫应该由**大量微小的、半透明的粒子组成，这些粒子可以相互融合**，模拟真实泡沫的**密集蓬松质地**，避免出现孤立小球的外观。颜色应该是荧光粉，具有一些亮度变化以增加深度。
    *   考虑使用简单的**噪声纹理**或程序化方法为泡沫粒子添加一些表面细节，使它们看起来更像多孔泡沫而不是光滑的球体。

3.  **喷射动力学和流体模拟：**
    *   **初始喷发：** 泡沫从烧瓶口猛烈向上喷射，形成连续上升的柱体（密集泡沫堆积在一起形成柱状）。高度应该至少是锥形瓶高度的3倍。泡沫柱只有在几乎达到最大高度时才开始散开，具有高的初始喷射速度和压力。
    *   **压力衰减：** 喷射强度（速度和泡沫生成率）应该**随时间逐渐减弱**，导致泡沫柱高度和喷射距离逐渐减小，模拟化学反应物耗尽的过程。
    *   **粒子运动：** 粒子轨迹应该模拟**基本流体动力学效应**，而不仅仅是简单的抛物线运动。例如，粒子应该有轻微的排斥力来模拟泡沫膨胀，或者在主喷射流周围有随机速度扰动。总体受重力影响。

4.  **泡沫-环境交互和变形：**
    *   **重力和积累：** 喷射出的泡沫粒子在重力影响下下落。当泡沫粒子接触平面或烧瓶外壁时，它们应该**模拟压缩变形效果**，比如在垂直方向被压扁（减少Y轴缩放）并在水平方向略微扩展（增加X和Z轴缩放）。
    *   **积累形成：** 落在平面和烧瓶上的泡沫应该逐渐**积累形成一定厚度的覆盖层**，而不是消失。积累的泡沫也应该有类似的变形和融合效果。
    *   **泡沫固定：** 在落到物体表面后，泡沫滑动一段短距离然后停止移动。

5.  **液体减少：**
    随着喷发的继续，锥形瓶内的液位逐渐降低，以显示液体减少效果。注意这不是整体的液体收缩，而是液体顶表面的逐渐下降。

**光照和渲染：**

1.  **光源：**
    *   设置一个主光源来产生清晰的阴影。
    *   添加环境光来照亮场景的黑暗区域，确保没有纯黑色的区域。

2.  **阴影：** 启用渲染器阴影映射。平面应该接收阴影，烧瓶和喷射出的泡沫应该投射阴影。

3.  **反射和折射：** 烧瓶材质应该显示微妙的环境反射和通过液体和玻璃的光折射。

**相机和控制：**

*   相机应该从45度对角俯视角度观察场景中心（锥形瓶位置），确保清楚地观察整个喷发过程和最终积累效果。