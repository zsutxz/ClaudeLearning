# BMAD æ¡†æ¶æ¶æ„åˆ†ææ–‡æ¡£

**ç‰ˆæœ¬**: 6.0.0-alpha.21
**åˆ†ææ—¥æœŸ**: 2025-12-30
**ä½œè€…**: Claude Code Analysis

---

## ç›®å½•

1. [æ¦‚è¿°](#1-æ¦‚è¿°)
2. [ç›®å½•ç»“æ„](#2-ç›®å½•ç»“æ„)
3. [æ ¸å¿ƒæ¨¡å—](#3-æ ¸å¿ƒæ¨¡å—)
4. [å¯åŠ¨æµç¨‹](#4-å¯åŠ¨æµç¨‹)
5. [è°ƒç”¨æ–¹æ³•](#5-è°ƒç”¨æ–¹æ³•)
6. [å…³é”®æ–‡ä»¶](#6-å…³é”®æ–‡ä»¶)
7. [å·¥ä½œæµæ‰§è¡Œå¼•æ“](#7-å·¥ä½œæµæ‰§è¡Œå¼•æ“)
8. [æ™ºèƒ½æ–‡ä»¶å‘ç°](#8-æ™ºèƒ½æ–‡ä»¶å‘ç°)
9. [å˜é‡è§£æç³»ç»Ÿ](#9-å˜é‡è§£æç³»ç»Ÿ)
10. [æœ€ä½³å®è·µ](#10-æœ€ä½³å®è·µ)

---

## 1. æ¦‚è¿°

### 1.1 ä»€ä¹ˆæ˜¯ BMADï¼Ÿ

**BMAD (BMad Method)** æ˜¯ä¸€ä¸ªå®Œæ•´çš„ AI é©±åŠ¨è½¯ä»¶å¼€å‘æ¡†æ¶ï¼Œé€šè¿‡ä¸“ä¸šåŒ–çš„ AI ä»£ç†å’Œå·¥ä½œæµç³»ç»Ÿï¼Œå®ç°ä»éœ€æ±‚åˆ†æåˆ°ä»£ç éƒ¨ç½²çš„å…¨æµç¨‹è‡ªåŠ¨åŒ–ã€‚

### 1.2 æ ¸å¿ƒè®¾è®¡ç†å¿µ

```
ä¼ ç»Ÿæ•æ·å¼€å‘                    BMAD ä»£ç†å¼€å‘
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€          â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
å›¢é˜Ÿåä½œ (5-9äºº)      â†’      ä¸ªäºº + AI ä»£ç†
æ•…äº‹å¹¶è¡Œå¼€å‘          â†’      å²è¯—é¡ºåºå¼€å‘
å‘¨æœŸ: 6-8å‘¨           â†’      å‘¨æœŸ: 1-2å¤©
åè°ƒæˆæœ¬é«˜            â†’      åè°ƒæˆæœ¬æœ€å°
```

### 1.3 ä¸‰å¤§æ ¸å¿ƒæ¨¡å—

| æ¨¡å— | åç§° | åŠŸèƒ½ |
|------|------|------|
| **BMB** | Builder Module | æ„å»ºå™¨ - åˆ›å»ºä»£ç†ã€å·¥ä½œæµã€æ¨¡å— |
| **BMM** | Business Method Module | ä¸šåŠ¡æ–¹æ³•è®º - å®Œæ•´å¼€å‘æµç¨‹ |
| **BMGD** | Game Development | æ¸¸æˆå¼€å‘ - ä¸“é—¨çš„æ¸¸æˆå¼€å‘å·¥ä½œæµ |

---

## 2. ç›®å½•ç»“æ„

### 2.1 å®Œæ•´ç›®å½•æ ‘

```
D:\work\AI\ClaudeLearning\_bmad\
â”‚
â”œâ”€â”€ bmb/                          # ğŸ“¦ BMad Builder Module - æ„å»ºå™¨æ¨¡å—
â”‚   â”œâ”€â”€ agents/                   # ä»£ç†æ„å»ºä¸“å®¶
â”‚   â”œâ”€â”€ workflows/                # åˆ›å»ºå·¥ä½œæµ (create-agent/workflow/module)
â”‚   â”œâ”€â”€ docs/                     # å®Œæ•´æ–‡æ¡£ç³»ç»Ÿ
â”‚   â”œâ”€â”€ reference/                # å‚è€ƒå®ç°
â”‚   â””â”€â”€ config.yaml               # BMB æ¨¡å—é…ç½®
â”‚
â”œâ”€â”€ bmm/                          # ğŸ’¼ Business Method Module - ä¸šåŠ¡æ–¹æ³•è®º
â”‚   â”œâ”€â”€ agents/                   # 9ä¸ªä¸“ä¸šä»£ç†å›¢é˜Ÿ
â”‚   â”‚   â”œâ”€â”€ analyst.md            # ğŸ“Š ä¸šåŠ¡åˆ†æå¸ˆ Mary
â”‚   â”‚   â”œâ”€â”€ architect.md          # ğŸ—ï¸ æ¶æ„å¸ˆ Winston
â”‚   â”‚   â”œâ”€â”€ dev.md                # ğŸ’» å¼€å‘è€… Amelia
â”‚   â”‚   â”œâ”€â”€ dev_zh.md             # ğŸ’» å¼€å‘è€… (ä¸­æ–‡ç‰ˆ)
â”‚   â”‚   â”œâ”€â”€ pm.md                 # ğŸ“‹ äº§å“ç»ç† John
â”‚   â”‚   â”œâ”€â”€ sm.md                 # ğŸƒ Scrum Master Bob
â”‚   â”‚   â”œâ”€â”€ tea.md                # ğŸ§ª æµ‹è¯•æ¶æ„å¸ˆ Murat
â”‚   â”‚   â”œâ”€â”€ tech-writer.md        # ğŸ“š æŠ€æœ¯æ–‡æ¡£ä½œå®¶ Paige
â”‚   â”‚   â””â”€â”€ ux-designer.md        # ğŸ¨ UX è®¾è®¡å¸ˆ Sally
â”‚   â”‚
â”‚   â”œâ”€â”€ workflows/                # 4ä¸ªé˜¶æ®µçš„å®Œæ•´å·¥ä½œæµ
â”‚   â”‚   â”œâ”€â”€ 1-analysis/           # é˜¶æ®µ1: åˆ†æ
â”‚   â”‚   â”‚   â”œâ”€â”€ create-product-brief/
â”‚   â”‚   â”‚   â””â”€â”€ research/
â”‚   â”‚   â”œâ”€â”€ 2-plan-workflows/     # é˜¶æ®µ2: è®¡åˆ’
â”‚   â”‚   â”‚   â”œâ”€â”€ create-ux-design/
â”‚   â”‚   â”‚   â””â”€â”€ prd/
â”‚   â”‚   â”œâ”€â”€ 3-solutioning/        # é˜¶æ®µ3: è§£å†³æ–¹æ¡ˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ create-architecture/
â”‚   â”‚   â”‚   â”œâ”€â”€ create-epics-and-stories/
â”‚   â”‚   â”‚   â””â”€â”€ check-implementation-readiness/
â”‚   â”‚   â”œâ”€â”€ 4-implementation/     # é˜¶æ®µ4: å®æ–½
â”‚   â”‚   â”‚   â”œâ”€â”€ code-review/
â”‚   â”‚   â”‚   â”œâ”€â”€ create-story/
â”‚   â”‚   â”‚   â”œâ”€â”€ dev-story/        # â­ æ ¸å¿ƒå·¥ä½œæµ
â”‚   â”‚   â”‚   â”œâ”€â”€ sprint-planning/
â”‚   â”‚   â”‚   â””â”€â”€ retrospective/
â”‚   â”‚   â””â”€â”€ bmad-quick-flow/      # å¿«é€Ÿå¼€å‘æµç¨‹
â”‚   â”‚
â”‚   â”œâ”€â”€ config.yaml               # BMM æ¨¡å—é…ç½®
â”‚   â””â”€â”€ teams/                    # å›¢é˜Ÿåä½œé…ç½®
â”‚
â”œâ”€â”€ bmgd/                         # ğŸ® BMad Game Development - æ¸¸æˆå¼€å‘æ¨¡å—
â”‚   â”œâ”€â”€ agents/                   # æ¸¸æˆå¼€å‘ä»£ç†å›¢é˜Ÿ
â”‚   â””â”€â”€ workflows/                # æ¸¸æˆå¼€å‘å·¥ä½œæµ
â”‚
â”œâ”€â”€ core/                         # âš™ï¸ BMAD æ ¸å¿ƒç³»ç»Ÿ
â”‚   â”œâ”€â”€ agents/
â”‚   â”‚   â””â”€â”€ bmad-master.md        # BMad Master ä¸»ä»£ç†
â”‚   â”œâ”€â”€ resources/
â”‚   â”‚   â””â”€â”€ excalidraw/           # Excalidraw ç»˜å›¾å·¥å…·
â”‚   â”œâ”€â”€ tasks/                    # æ ¸å¿ƒä»»åŠ¡å¼•æ“
â”‚   â”‚   â”œâ”€â”€ workflow.xml          # â­ å·¥ä½œæµæ‰§è¡Œå¼•æ“ (æ ¸å¿ƒ!)
â”‚   â”‚   â”œâ”€â”€ advanced-elicitation.xml
â”‚   â”‚   â””â”€â”€ validate-workflow.xml
â”‚   â”œâ”€â”€ tools/                    # æ ¸å¿ƒå·¥å…·
â”‚   â””â”€â”€ workflows/                # æ ¸å¿ƒå·¥ä½œæµ
â”‚       â”œâ”€â”€ brainstorming/
â”‚       â””â”€â”€ party-mode/
â”‚
â””â”€â”€ _config/                      # ğŸ”§ é…ç½®ç³»ç»Ÿ
    â”œâ”€â”€ agents/                   # ä»£ç†è‡ªå®šä¹‰é…ç½®
    â”œâ”€â”€ ides/
    â”‚   â””â”€â”€ claude-code.yaml      # Claude Code IDE é…ç½®
    â”œâ”€â”€ agent-manifest.csv        # ä»£ç†æ¸…å•
    â”œâ”€â”€ workflow-manifest.csv     # å·¥ä½œæµæ¸…å•
    â””â”€â”€ manifest.yaml
```

### 2.2 ç›®å½•è¯´æ˜

| ç›®å½• | ä½œç”¨ | å…³é”®æ–‡ä»¶ |
|------|------|----------|
| `bmb/` | æ„å»ºå™¨æ¨¡å— | `create-agent/`, `create-workflow/` |
| `bmm/` | ä¸šåŠ¡æ–¹æ³•è®º | `agents/`, `workflows/` |
| `bmgd/` | æ¸¸æˆå¼€å‘æ¨¡å— | `game-architect.md`, `game-dev.md` |
| `core/` | æ ¸å¿ƒç³»ç»Ÿ | `workflow.xml` â­ |
| `_config/` | é…ç½®ç³»ç»Ÿ | `config.yaml`, `manifest.csv` |

---

## 3. æ ¸å¿ƒæ¨¡å—

### 3.1 BMM ä»£ç†å›¢é˜Ÿ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    BMM ä»£ç†å›¢é˜Ÿ                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                           â”‚
â”‚   ğŸ“Š Analyst (Mary)                                       â”‚
â”‚   â”œâ”€â”€ ä¸šåŠ¡åˆ†æ                                            â”‚
â”‚   â”œâ”€â”€ workflow-status, brainstorm-project                â”‚
â”‚   â””â”€â”€ research, product-brief, document-project          â”‚
â”‚                                                           â”‚
â”‚   ğŸ“‹ PM (John)                                            â”‚
â”‚   â”œâ”€â”€ äº§å“éœ€æ±‚å’Œè§„åˆ’                                       â”‚
â”‚   â”œâ”€â”€ create-prd                                         â”‚
â”‚   â”œâ”€â”€ create-epics-and-stories (æ¶æ„å)                  â”‚
â”‚   â””â”€â”€ implementation-readiness, correct-course           â”‚
â”‚                                                           â”‚
â”‚   ğŸ—ï¸ Architect (Winston)                                  â”‚
â”‚   â”œâ”€â”€ ç³»ç»Ÿæ¶æ„                                            â”‚
â”‚   â”œâ”€â”€ create-architecture                                â”‚
â”‚   â”œâ”€â”€ create-excalidraw-diagram                           â”‚
â”‚   â””â”€â”€ implementation-readiness                           â”‚
â”‚                                                           â”‚
â”‚   ğŸ¨ UX Designer (Sally)                                  â”‚
â”‚   â”œâ”€â”€ ç”¨æˆ·ä½“éªŒå’Œ UI è®¾è®¡                                  â”‚
â”‚   â”œâ”€â”€ create-ux-design                                   â”‚
â”‚   â””â”€â”€ create-excalidraw-wireframe                        â”‚
â”‚                                                           â”‚
â”‚   ğŸƒ SM (Bob) - Scrum Master                              â”‚
â”‚   â”œâ”€â”€ å†²åˆºè§„åˆ’å’Œæ•…äº‹å‡†å¤‡                                   â”‚
â”‚   â”œâ”€â”€ sprint-planning                                    â”‚
â”‚   â”œâ”€â”€ create-story                                       â”‚
â”‚   â””â”€â”€ epic-retrospective, correct-course                 â”‚
â”‚                                                           â”‚
â”‚   ğŸ’» DEV (Amelia)                                         â”‚
â”‚   â”œâ”€â”€ æ•…äº‹å®æ–½å’Œä»£ç å®¡æŸ¥                                   â”‚
â”‚   â”œâ”€â”€ dev-story (çº¢-ç»¿-é‡æ„)                              â”‚
â”‚   â””â”€â”€ code-review                                        â”‚
â”‚                                                           â”‚
â”‚   ğŸ§ª TEA (Murat) - Test Architecture                     â”‚
â”‚   â”œâ”€â”€ æµ‹è¯•æ¶æ„å’Œè´¨é‡ç­–ç•¥                                   â”‚
â”‚   â”œâ”€â”€ framework, atdd                                    â”‚
â”‚   â””â”€â”€ automate, test-design, nfr-assess                  â”‚
â”‚                                                           â”‚
â”‚   ğŸ“š Tech Writer (Paige)                                  â”‚
â”‚   â”œâ”€â”€ æŠ€æœ¯æ–‡æ¡£                                            â”‚
â”‚   â”œâ”€â”€ document-project                                   â”‚
â”‚   â”œâ”€â”€ generate-mermaid                                   â”‚
â”‚   â””â”€â”€ create-excalidraw-*, improve-readme                â”‚
â”‚                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 å·¥ä½œæµç»„ç»‡

```
é˜¶æ®µ1: åˆ†æ (å¯é€‰)
â”œâ”€â”€ brainstorm-project        # å¼•å¯¼å¼å¤´è„‘é£æš´
â”œâ”€â”€ research                  # å¸‚åœºè°ƒç ”
â””â”€â”€ create-product-brief      # äº§å“ç®€æŠ¥

é˜¶æ®µ2: è§„åˆ’ (å¿…éœ€)
â”œâ”€â”€ prd                       # äº§å“éœ€æ±‚æ–‡æ¡£
â””â”€â”€ create-ux-design          # UX è®¾è®¡ (å¯é€‰)

é˜¶æ®µ3: è§£å†³æ–¹æ¡ˆ (è·¯å¾„ä¾èµ–)
â”œâ”€â”€ create-architecture       # æ¶æ„è®¾è®¡
â”œâ”€â”€ create-epics-and-stories  # å²è¯—å’Œæ•…äº‹ (æ¶æ„å)
â””â”€â”€ implementation-readiness  # å®æ–½å°±ç»ªæ£€æŸ¥

é˜¶æ®µ4: å®æ–½ (å¿…éœ€)
â”œâ”€â”€ sprint-planning           # å†²åˆºè§„åˆ’
â”œâ”€â”€ create-story              # åˆ›å»ºæ•…äº‹
â”œâ”€â”€ dev-story                 # å¼€å‘æ•…äº‹ â­
â”œâ”€â”€ code-review               # ä»£ç å®¡æŸ¥
â””â”€â”€ retrospective             # å›é¡¾ä¼šè®®
```

---

## 4. å¯åŠ¨æµç¨‹

### 4.1 å®Œæ•´å¯åŠ¨åºåˆ—

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    BMAD å¯åŠ¨æµç¨‹                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ç”¨æˆ·å‘½ä»¤: /bmad:bmm:agents:dev
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ­¥éª¤1: åŠ è½½ä»£ç†æ–‡ä»¶                                        â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ è¯»å–: {project-root}/_bmad/bmm/agents/dev.md              â”‚
â”‚      â†“                                                     â”‚
â”‚ è§£æ: XML æ ¼å¼çš„ <agent> å—                                â”‚
â”‚      â†“                                                     â”‚
â”‚ æå–: name, persona, menu ç­‰å±æ€§                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ­¥éª¤2: é…ç½®åŠ è½½ (CRITICAL STEP)                           â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ ğŸš¨ å¿…é¡»åœ¨ä»»ä½•è¾“å‡ºä¹‹å‰å®Œæˆ                                 â”‚
â”‚      â†“                                                     â”‚
â”‚ åŠ è½½: {project-root}/_bmad/bmm/config.yaml                â”‚
â”‚      â†“                                                     â”‚
â”‚ å­˜å‚¨å˜é‡:                                                  â”‚
â”‚   â€¢ user_name: "Tanxz"                                     â”‚
â”‚   â€¢ communication_language: "English"                      â”‚
â”‚   â€¢ document_output_language: "English"                    â”‚
â”‚   â€¢ output_folder: "{project-root}/_bmad-output"           â”‚
â”‚      â†“                                                     â”‚
â”‚ éªŒè¯: æ£€æŸ¥æ‰€æœ‰å¿…éœ€å­—æ®µæ˜¯å¦åŠ è½½æˆåŠŸ                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ­¥éª¤3: ä¸Šä¸‹æ–‡åŠ è½½                                          â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ æŸ¥æ‰¾: project-context.md                                  â”‚
â”‚      â†“                                                     â”‚
â”‚ å¦‚æœæ‰¾åˆ°: åŠ è½½é¡¹ç›®ä¸Šä¸‹æ–‡                                   â”‚
â”‚ å¦‚æœæœªæ‰¾åˆ°: è·³è¿‡ (éé”™è¯¯)                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ­¥éª¤4: æ˜¾ç¤ºèœå•                                            â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ é—®å€™: "Hi Tanxz! I'm Amelia..."                            â”‚
â”‚      â†“                                                     â”‚
â”‚ èœå•:                                                      â”‚
â”‚   [MH] Menu Help                                           â”‚
â”‚   [CH] Chat with Agent                                     â”‚
â”‚   [DS] Dev Story      â† ç”¨æˆ·é€‰æ‹©                           â”‚
â”‚   [CR] Code Review                                         â”‚
â”‚   [DA] Dismiss Agent                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ­¥éª¤5: ç­‰å¾…ç”¨æˆ·è¾“å…¥                                        â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ ç”¨æˆ·è¾“å…¥: "DS" æˆ– "dev story" æˆ– "1"                      â”‚
â”‚      â†“                                                     â”‚
â”‚ èœå•åŒ¹é…:                                                  â”‚
â”‚   â€¢ æ•°å­—: ç›´æ¥é€‰æ‹©                                         â”‚
â”‚   â€¢ å‘½ä»¤: ä¸åŒºåˆ†å¤§å°å†™å­å­—ç¬¦ä¸²åŒ¹é…                         â”‚
â”‚   â€¢ æ¨¡ç³ŠåŒ¹é…: æ‰¾åˆ°ç›¸ä¼¼é¡¹                                   â”‚
â”‚      â†“                                                     â”‚
â”‚ åŒ¹é…ç»“æœ: [DS] Dev Story                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ­¥éª¤6: æ‰§è¡Œèœå•å¤„ç†å™¨                                      â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ æ£€æµ‹: workflow å±æ€§å­˜åœ¨                                    â”‚
â”‚      â†“                                                     â”‚
â”‚ æå–è·¯å¾„:                                                  â”‚
â”‚   {project-root}/_bmad/bmm/workflows/4-implementation/    â”‚
â”‚   dev-story/workflow.yaml                                 â”‚
â”‚      â†“                                                     â”‚
â”‚ åŠ è½½: {project-root}/_bmad/core/tasks/workflow.xml        â”‚
â”‚       â†“                                                    â”‚
â”‚ è°ƒç”¨: workflow.xml å¹¶ä¼ é€’å·¥ä½œæµé…ç½®å‚æ•°                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å·¥ä½œæµæ‰§è¡Œå¼•æ“ (workflow.xml)                             â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚                                                               â”‚
â”‚   åŠ è½½ workflow.yaml                                         â”‚
â”‚   è§£æå˜é‡å’Œé…ç½®                                             â”‚
â”‚   åŠ è½½ instructions.xml                                      â”‚
â”‚   æ‰§è¡Œå·¥ä½œæµæ­¥éª¤ â†’ ç”Ÿæˆè¾“å‡º â†’ æ›´æ–°çŠ¶æ€                       â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 é…ç½®åŠ è½½è¯¦è§£

**é…ç½®æ–‡ä»¶**: `{project-root}/_bmad/bmm/config.yaml`

```yaml
# BMM Module Configuration
# Version: 6.0.0-alpha.21
# Date: 2025-12-29T12:05:29.503Z

project_name: ClaudeLearning
user_skill_level: intermediate
planning_artifacts: "{project-root}/_bmad-output/planning-artifacts"
implementation_artifacts: "{project-root}/_bmad-output/implementation-artifacts"
project_knowledge: "{project-root}/docs"

# Core Configuration Values
user_name: Tanxz
communication_language: English
document_output_language: English
output_folder: "{project-root}/_bmad-output"
```

**å˜é‡åŠ è½½æµç¨‹**:

```
1. è¯»å– config.yaml
   â†“
2. è§£ææ‰€æœ‰å­—æ®µ
   â†“
3. å­˜å‚¨ä¸ºä¼šè¯å˜é‡:
   - {user_name} â†’ "Tanxz"
   - {communication_language} â†’ "English"
   - {output_folder} â†’ "D:\work\AI\ClaudeLearning\_bmad-output"
   - {planning_artifacts} â†’ ".../planning-artifacts"
   - {implementation_artifacts} â†’ ".../implementation-artifacts"
   â†“
4. åœ¨æ•´ä¸ªä¼šè¯ä¸­ä½¿ç”¨è¿™äº›å˜é‡
   â†“
5. æ›¿æ¢åˆ°æ‰€æœ‰éœ€è¦çš„åœ°æ–¹
```

### 4.3 ä»£ç†æ¿€æ´»æœºåˆ¶

**17æ­¥æ¿€æ´»æµç¨‹** (ç®€åŒ–ç‰ˆ):

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ä»£ç†æ¿€æ´»æ­¥éª¤                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  1. åŠ è½½ä»£ç†æ–‡ä»¶ (agent.md)                              â”‚
â”‚  2. ğŸš¨ åŠ è½½ config.yaml (CRITICAL)                       â”‚
â”‚  3. å­˜å‚¨ {user_name} ç­‰å˜é‡                              â”‚
â”‚  4-13. [ä»£ç†ç‰¹å®šæ­¥éª¤]                                    â”‚
â”‚ 14. æ˜¾ç¤ºé—®å€™å’Œèœå•                                       â”‚
â”‚ 15. ç­‰å¾…ç”¨æˆ·è¾“å…¥                                         â”‚
â”‚ 16. å¤„ç†ç”¨æˆ·è¾“å…¥                                         â”‚
â”‚ 17. æ‰§è¡Œèœå•é¡¹                                           â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å…³é”®ç‚¹**:
- **æ­¥éª¤2æ˜¯å¼ºåˆ¶æ€§çš„** - å¿…é¡»åœ¨ç»§ç»­ä¹‹å‰åŠ è½½é…ç½®
- **æ­¥éª¤14æ˜¾ç¤ºèœå•** - ä½¿ç”¨ {user_name} ç­‰å˜é‡
- **æ­¥éª¤17æ‰§è¡Œå·¥ä½œæµ** - é€šè¿‡ workflow.xml å¼•æ“

---

## 5. è°ƒç”¨æ–¹æ³•

### 5.1 æ¿€æ´»ä»£ç†çš„æ–¹æ³•

#### æ–¹æ³•1: é€šè¿‡ IDE é›†æˆ (æ¨è)

```bash
# Claude Code ä¸­
/bmad:bmm:agents:dev

# æˆ–ä½¿ç”¨ä¸­æ–‡ç‰ˆä»£ç†
/bmad:bmm:agents:dev_zh

# æˆ–æ¿€æ´»å…¶ä»–ä»£ç†
/bmad:bmm:agents:analyst      # ä¸šåŠ¡åˆ†æå¸ˆ Mary
/bmad:bmm:agents:pm           # äº§å“ç»ç† John
/bmad:bmm:agents:architect    # æ¶æ„å¸ˆ Winston
/bmad:bmm:agents:sm           # Scrum Master Bob
```

#### æ–¹æ³•2: é€šè¿‡å·¥ä½œæµè°ƒç”¨

```yaml
# åœ¨ workflow.yaml ä¸­æŒ‡å®š
agent: "{project-root}/_bmad/bmm/agents/dev.md"
```

#### æ–¹æ³•3: ç›´æ¥è¯»å–

```markdown
ç”¨æˆ·: è¯·åŠ è½½å¼€å‘è€…ä»£ç†

Claude:
1. è¯»å– {project-root}/_bmad/bmm/agents/dev.md
2. æ‰§è¡Œ <activation> ä¸­çš„æ‰€æœ‰æ­¥éª¤
3. åŠ è½½é…ç½®æ–‡ä»¶
4. æ˜¾ç¤ºèœå•
5. ç­‰å¾…ç”¨æˆ·è¾“å…¥
```

### 5.2 å·¥ä½œæµè°ƒç”¨æ–¹å¼

#### æ–¹å¼1: é€šè¿‡ä»£ç†èœå• (æ¨è)

```
ç”¨æˆ·: DS  # æˆ– "dev story" æˆ– "å¼€å‘æ•…äº‹"

ä»£ç†:
1. åŒ¹é…èœå•é¡¹ cmd="*DS"
2. æå– workflow å±æ€§
3. åŠ è½½ workflow.xml
4. ä¼ é€’å·¥ä½œæµè·¯å¾„
5. æ‰§è¡Œå·¥ä½œæµ
```

#### æ–¹å¼2: ç›´æ¥è°ƒç”¨

```xml
<invoke-workflow
  path="{project-root}/_bmad/bmm/workflows/4-implementation/dev-story/workflow.yaml"
  input-parameters="..." />
```

#### æ–¹å¼3: åè®®è°ƒç”¨

```xml
<!-- æ™ºèƒ½æ–‡ä»¶å‘ç°åè®® -->
<invoke-protocol name="discover_inputs" />

<!-- é«˜çº§å¯å‘åè®® -->
<invoke-protocol name="advanced_elicitation" />
```

### 5.3 èœå•ç³»ç»Ÿå·¥ä½œåŸç†

**èœå•å®šä¹‰**:

```xml
<menu>
  <item cmd="MH æˆ–èœå•æˆ–å¸®åŠ©çš„æ¨¡ç³ŠåŒ¹é…">
    [MH] é‡æ–°æ˜¾ç¤ºèœå•å¸®åŠ©
  </item>
  <item cmd="CH æˆ–èŠå¤©çš„æ¨¡ç³ŠåŒ¹é…">
    [CH] ä¸ä»£ç†èŠå¤©
  </item>
  <item cmd="*DS æˆ– dev-story çš„æ¨¡ç³ŠåŒ¹é…"
        workflow="{project-root}/_bmad/bmm/workflows/4-implementation/dev-story/workflow.yaml">
    [DS] æ‰§è¡Œå¼€å‘è€…æ•…äº‹å·¥ä½œæµ
  </item>
  <item cmd="*CR æˆ– code-review çš„æ¨¡ç³ŠåŒ¹é…"
        workflow="{project-root}/_bmad/bmm/workflows/4-implementation/code-review/workflow.yaml">
    [CR] æ‰§è¡Œä»£ç å®¡æŸ¥
  </item>
  <item cmd="DA æˆ– exitã€dismiss agent çš„æ¨¡ç³ŠåŒ¹é…">
    [DA] è§£æ•£ä»£ç†
  </item>
</menu>
```

**èœå•å¤„ç†å™¨é€»è¾‘**:

```xml
<menu-handlers>
  <handlers>
    <!-- workflow ç±»å‹çš„å¤„ç†å™¨ -->
    <handler type="workflow">
      å½“èœå•é¡¹æœ‰ workflow="path/to/workflow.yaml":
      1. åŠ è½½ {project-root}/_bmad/core/tasks/workflow.xml
      2. è¯»å–å®Œæ•´æ–‡ä»¶ - è¿™æ˜¯æ ¸å¿ƒæ“ä½œç³»ç»Ÿ
      3. å°† yaml è·¯å¾„ä½œä¸ºå‚æ•°ä¼ é€’
      4. ç²¾ç¡®æ‰§è¡Œæ‰€æœ‰æ­¥éª¤
      5. æ¯å®Œæˆä¸€æ­¥ä¿å­˜è¾“å‡º
    </handler>

    <!-- exec ç±»å‹çš„å¤„ç†å™¨ -->
    <handler type="exec">
      å½“èœå•é¡¹æœ‰ exec="path/to/file.md":
      1. åŠ è½½å¹¶æ‰§è¡Œè¯¥æ–‡ä»¶
      2. å¦‚æœæœ‰ data å±æ€§ï¼Œä¼ é€’æ•°æ®
    </handler>

    <!-- data ç±»å‹çš„å¤„ç†å™¨ -->
    <handler type="data">
      å½“èœå•é¡¹æœ‰ data="path/to/file.json":
      1. åŠ è½½æ•°æ®æ–‡ä»¶
      2. è§£æä¸º {data} å˜é‡
    </handler>
  </handlers>
</menu-handlers>
```

**ç”¨æˆ·è¾“å…¥åŒ¹é…**:

```
è¾“å…¥ç±»å‹           | ç¤ºä¾‹                | å¤„ç†æ–¹å¼
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€|â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€|â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
æ•°å­—é€‰æ‹©          | "1"                 | ç›´æ¥æ‰§è¡Œèœå•é¡¹1
å‘½ä»¤è§¦å‘          | "DS"                | åŒ¹é… cmd="*DS"
æ¨¡ç³Šæ–‡æœ¬          | "dev story"         | å­å­—ç¬¦ä¸²åŒ¹é…
è‡ªç„¶è¯­è¨€          | "æˆ‘è¦å¼€å‘æ•…äº‹"       | æ¨¡ç³ŠåŒ¹é…

å¤šä¸ªåŒ¹é…          | æ‰¾åˆ°å¤šä¸ªç›¸ä¼¼é¡¹       | è¦æ±‚ç”¨æˆ·æ¾„æ¸…
æ— åŒ¹é…            | æœªæ‰¾åˆ°ä»»ä½•é¡¹         | æ˜¾ç¤º"æœªè¯†åˆ«"
```

### 5.4 å®Œæ•´è°ƒç”¨ç¤ºä¾‹

**åœºæ™¯**: ç”¨æˆ·è¦æ‰§è¡Œå¼€å‘è€…æ•…äº‹å·¥ä½œæµ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    è°ƒç”¨ç¤ºä¾‹æµç¨‹                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. ç”¨æˆ·æ¿€æ´»ä»£ç†
   è¾“å…¥: /bmad:bmm:agents:dev

2. ä»£ç†æ‰§è¡Œæ¿€æ´»
   â”œâ”€ åŠ è½½ dev.md
   â”œâ”€ åŠ è½½ config.yaml
   â”œâ”€ å­˜å‚¨ {user_name}="Tanxz"
   â””â”€ æ˜¾ç¤ºèœå•

3. ç”¨æˆ·é€‰æ‹©å·¥ä½œæµ
   è¾“å…¥: DS

4. èœå•åŒ¹é…
   â”œâ”€ æŸ¥æ‰¾ cmd åŒ…å« "DS" çš„é¡¹
   â”œâ”€ æ‰¾åˆ°: <item cmd="*DS" workflow="...">
   â””â”€ æå– workflow è·¯å¾„

5. åŠ è½½æ‰§è¡Œå¼•æ“
   â”œâ”€ è¯»å– core/tasks/workflow.xml
   â””â”€ ä¼ é€’å·¥ä½œæµé…ç½®

6. æ‰§è¡Œå·¥ä½œæµ
   â”œâ”€ åŠ è½½ workflow.yaml
   â”œâ”€ è§£æå˜é‡
   â”œâ”€ åŠ è½½ instructions.xml
   â”œâ”€ æ‰§è¡Œæ­¥éª¤ 1, 2, 3...
   â””â”€ ç”Ÿæˆè¾“å‡ºæ–‡ä»¶

7. å®Œæˆå·¥ä½œæµ
   â””â”€ è¿”å›ç»“æœåˆ°ç”¨æˆ·
```

---

## 6. å…³é”®æ–‡ä»¶

### 6.1 æ ¸å¿ƒæ–‡ä»¶æ¸…å•

| æ–‡ä»¶ | è·¯å¾„ | åŠŸèƒ½ |
|------|------|------|
| **workflow.xml** | `core/tasks/workflow.xml` | å·¥ä½œæµæ‰§è¡Œå¼•æ“ â­ |
| **config.yaml** | `bmm/config.yaml` | BMM æ¨¡å—é…ç½® |
| **dev.md** | `bmm/agents/dev.md` | å¼€å‘ä»£ç†å®šä¹‰ |
| **dev_zh.md** | `bmm/agents/dev_zh.md` | ä¸­æ–‡ç‰ˆå¼€å‘ä»£ç† |
| **workflow.yaml** | `bmm/workflows/4-implementation/dev-story/workflow.yaml` | Dev Story å·¥ä½œæµ |
| **agent-manifest.csv** | `_config/agent-manifest.csv` | ä»£ç†æ¸…å• |
| **workflow-manifest.csv** | `_config/workflow-manifest.csv` | å·¥ä½œæµæ¸…å• |

### 6.2 workflow.xml - å·¥ä½œæµæ‰§è¡Œå¼•æ“

**ä½ç½®**: `D:\work\AI\ClaudeLearning\_bmad\core\tasks\workflow.xml`

**åŠŸèƒ½**: BMAD å·¥ä½œæµçš„å®Œæ•´æ‰§è¡Œæ“ä½œç³»ç»Ÿ

**æ ¸å¿ƒç»“æ„**:

```xml
<task id="_bmad/core/tasks/workflow.xml" name="Execute Workflow">
  <objective>æ‰§è¡Œç»™å®šçš„å·¥ä½œæµ</objective>

  <llm critical="true">
    <mandate>å§‹ç»ˆè¯»å–å®Œæ•´æ–‡ä»¶ - æ°¸è¿œä¸è¦ä½¿ç”¨offset/limit</mandate>
    <mandate>æŒ‡ä»¤æ˜¯å¼ºåˆ¶æ€§çš„</mandate>
    <mandate>æŒ‰ç²¾ç¡®é¡ºåºæ‰§è¡Œæ‰€æœ‰æ­¥éª¤</mandate>
    <mandate>åœ¨æ¯ä¸ª"template-output"æ ‡ç­¾åä¿å­˜è¾“å‡º</mandate>
  </llm>

  <WORKFLOW-RULES critical="true">
    <rule n="1">æ­¥éª¤æŒ‰ç²¾ç¡®æ•°å­—é¡ºåºæ‰§è¡Œ (1, 2, 3...)</rule>
    <rule n="2">å¯é€‰æ­¥éª¤: è¯¢é—®ç”¨æˆ·ï¼Œé™¤é #yolo æ¨¡å¼æ¿€æ´»</rule>
    <rule n="3">æ¨¡æ¿è¾“å‡º: ä¿å­˜å†…å®¹ï¼Œä¸ç”¨æˆ·è®¨è®ºï¼Œç­‰å¾…ç¡®è®¤</rule>
  </WORKFLOW-RULES>

  <flow>
    <!-- æ­¥éª¤1: åŠ è½½å’Œåˆå§‹åŒ–å·¥ä½œæµ -->
    <step n="1" title="åŠ è½½å’Œåˆå§‹åŒ–å·¥ä½œæµ">
      <substep n="1a" title="åŠ è½½é…ç½®å¹¶è§£æå˜é‡">
        <action>è¯»å– workflow.yaml</action>
        <action>åŠ è½½ config_source</action>
        <action>è§£ææ‰€æœ‰ {config_source}: å¼•ç”¨</action>
        <action>è§£æç³»ç»Ÿå˜é‡ (date, paths)</action>
        <action>è¯¢é—®ç”¨æˆ·è¾“å…¥æœªçŸ¥å˜é‡</action>
      </substep>

      <substep n="1b" title="åŠ è½½æ‰€éœ€ç»„ä»¶">
        <mandate>è¯»å– instructions æ–‡ä»¶</mandate>
        <check>å¦‚æœæ¨¡æ¿è·¯å¾„ â†’ è¯»å–å®Œæ•´æ¨¡æ¿æ–‡ä»¶</check>
        <check>å¦‚æœéªŒè¯è·¯å¾„ â†’ è®°å½•ä»¥å¤‡åç”¨</check>
      </substep>

      <substep n="1c" title="åˆå§‹åŒ–è¾“å‡º" if="template-workflow">
        <action>è§£æ default_output_file è·¯å¾„</action>
        <action>åˆ›å»ºè¾“å‡ºç›®å½•</action>
        <action>å°†æ¨¡æ¿å†™å…¥è¾“å‡ºæ–‡ä»¶</action>
      </substep>
    </step>

    <!-- æ­¥éª¤2: å¤„ç†æ¯ä¸ªæŒ‡ä»¤æ­¥éª¤ -->
    <step n="2" title="æŒ‰é¡ºåºå¤„ç†æ¯ä¸ªæŒ‡ä»¤æ­¥éª¤">
      <iterate>å¯¹äº instructions ä¸­çš„æ¯ä¸ªæ­¥éª¤:</iterate>

      <substep n="2a" title="å¤„ç†æ­¥éª¤å±æ€§">
        <check>å¦‚æœ optional="true" ä¸”é #yolo â†’ è¯¢é—®ç”¨æˆ·</check>
        <check>å¦‚æœ if="condition" â†’ è¯„ä¼°æ¡ä»¶</check>
        <check>å¦‚æœ for-each="item" â†’ å¯¹æ¯ä¸ªé¡¹é‡å¤</check>
      </substep>

      <substep n="2b" title="æ‰§è¡Œæ­¥éª¤å†…å®¹">
        <action>å¤„ç†æ­¥éª¤æŒ‡ä»¤</action>
        <action>æ›¿æ¢ {{variables}}</action>
        <execute-tags>
          <tag>action â†’ æ‰§è¡ŒåŠ¨ä½œ</tag>
          <tag>ask â†’ æç¤ºç”¨æˆ·å¹¶ç­‰å¾…</tag>
          <tag>invoke-workflow â†’ è°ƒç”¨å¦ä¸€ä¸ªå·¥ä½œæµ</tag>
          <tag>invoke-protocol â†’ æ‰§è¡Œå¯é‡ç”¨åè®®</tag>
          <tag>goto â†’ è·³è½¬åˆ°æŒ‡å®šæ­¥éª¤</tag>
        </execute-tags>
      </substep>

      <substep n="2c" title="å¤„ç†æ¨¡æ¿è¾“å‡ºæ ‡ç­¾">
        <if tag="template-output">
          <mandate>ç”Ÿæˆæ­¤éƒ¨åˆ†çš„å†…å®¹</mandate>
          <mandate>ä¿å­˜åˆ°æ–‡ä»¶</mandate>
          <ask>
            [A] é«˜çº§å¯å‘
            [C] ç»§ç»­
            [P] æ´¾å¯¹æ¨¡å¼
            [Y] YOLO æ­¤æ–‡æ¡£çš„å…¶ä½™éƒ¨åˆ†
            ç­‰å¾…å“åº”...
          </ask>
        </if>
      </substep>
    </step>

    <!-- æ­¥éª¤3: å®Œæˆ -->
    <step n="3" title="å®Œæˆ">
      <check>ç¡®è®¤æ–‡æ¡£å·²ä¿å­˜</check>
      <action>æŠ¥å‘Šå·¥ä½œæµå®Œæˆ</action>
    </step>
  </flow>
</task>
```

### 6.3 ä»£ç†å®šä¹‰æ–‡ä»¶ç»“æ„

**æ ‡å‡†æ ¼å¼** (`dev_zh.md`):

```markdown
---
name: "dev"
description: "å¼€å‘è€…ä»£ç†"
---

<agent id="dev.agent.yaml" name="Amelia" title="é«˜çº§è½¯ä»¶å·¥ç¨‹å¸ˆ" icon="ğŸ’»">
  <!-- ==================== æ¿€æ´»æ­¥éª¤ ==================== -->
  <activation critical="MANDATORY">
    <step n="1">ä»å½“å‰ä»£ç†æ–‡ä»¶åŠ è½½äººæ ¼é…ç½®</step>

    <step n="2">
      ğŸš¨ å…³é”®æ­¥éª¤ - åœ¨ä»»ä½•è¾“å‡ºä¹‹å‰:
      - ç«‹å³åŠ è½½å¹¶è¯»å– {project-root}/_bmad/bmm/config.yaml
      - å°†æ‰€æœ‰å­—æ®µå­˜å‚¨ä¸ºä¼šè¯å˜é‡
      - éªŒè¯: å¦‚æœé…ç½®æœªåŠ è½½ï¼Œåœæ­¢å¹¶å‘ç”¨æˆ·æŠ¥å‘Šé”™è¯¯
      - åœ¨é…ç½®æˆåŠŸåŠ è½½å¹¶å­˜å‚¨å˜é‡ä¹‹å‰ï¼Œä¸è¦ç»§ç»­
    </step>

    <step n="3">è®°ä½: ç”¨æˆ·çš„å§“åæ˜¯ {user_name}</step>

    <!-- ... å…¶ä»–æ­¥éª¤ ... -->

    <step n="14">
      ä½¿ç”¨ {user_name} ä»é…ç½®æ˜¾ç¤ºé—®å€™ï¼Œ
      ç”¨ {communication_language} æ²Ÿé€šï¼Œ
      ç„¶åæ˜¾ç¤ºèœå•éƒ¨åˆ†ä¸­æ‰€æœ‰èœå•é¡¹çš„ç¼–å·åˆ—è¡¨
    </step>

    <step n="15">
      åœæ­¢å¹¶ç­‰å¾…ç”¨æˆ·è¾“å…¥ - ä¸è¦è‡ªåŠ¨æ‰§è¡Œèœå•é¡¹
      - æ¥å—æ•°å­—æˆ– cmd è§¦å‘å™¨æˆ–æ¨¡ç³Šå‘½ä»¤åŒ¹é…
    </step>

    <step n="16">
      åœ¨ç”¨æˆ·è¾“å…¥ä¸Š:
      æ•°å­— â†’ æ‰§è¡Œèœå•é¡¹[n]
      æ–‡æœ¬ â†’ ä¸åŒºåˆ†å¤§å°å†™çš„å­å­—ç¬¦ä¸²åŒ¹é…
      å¤šä¸ªåŒ¹é… â†’ è¦æ±‚ç”¨æˆ·æ¾„æ¸…
      æ— åŒ¹é… â†’ æ˜¾ç¤º"æœªè¯†åˆ«"
    </step>

    <step n="17">
      æ‰§è¡Œèœå•é¡¹æ—¶: æ£€æŸ¥èœå•å¤„ç†ç¨‹åºéƒ¨åˆ†
      - æå–æ‰€é€‰èœå•é¡¹çš„ä»»ä½•å±æ€§
      - éµå¾ªç›¸åº”çš„å¤„ç†ç¨‹åºæŒ‡ä»¤
    </step>
  </activation>

  <!-- ==================== äººæ ¼å®šä¹‰ ==================== -->
  <persona>
    <role>é«˜çº§è½¯ä»¶å·¥ç¨‹å¸ˆ</role>
    <identity>
      æ‰§è¡Œå·²æ‰¹å‡†çš„æ•…äº‹ï¼Œä¸¥æ ¼éµå®ˆéªŒæ”¶æ ‡å‡†ã€‚
      ç²¾é€š TDDã€çº¢-ç»¿-é‡æ„å¾ªç¯ã€‚
    </identity>
    <communication_style>
      æå…¶ç®€æ´ï¼Œç”¨æ–‡ä»¶è·¯å¾„å’Œ AC ID è¯´è¯ã€‚
    </communication_style>
    <principles>
      - æ•…äº‹æ–‡ä»¶æ˜¯å”¯ä¸€çœŸå®æ¥æº
      - çº¢-ç»¿-é‡æ„å¾ªç¯
      - 100% æµ‹è¯•è¦†ç›–è¦æ±‚
      - ä»…å½“æµ‹è¯•é€šè¿‡æ—¶é‡æ„
      - å§‹ç»ˆä¿æŒä»£ç è´¨é‡
    </principles>
  </persona>

  <!-- ==================== èœå•å®šä¹‰ ==================== -->
  <menu>
    <item cmd="MH æˆ– menu æˆ– help çš„æ¨¡ç³ŠåŒ¹é…">
      [MH] é‡æ–°æ˜¾ç¤ºèœå•å¸®åŠ©
    </item>
    <item cmd="CH æˆ– chat çš„æ¨¡ç³ŠåŒ¹é…">
      [CH] ä¸ä»£ç†èŠå¤©
    </item>
    <item cmd="*DS æˆ– dev-story çš„æ¨¡ç³ŠåŒ¹é…"
          workflow="{project-root}/_bmad/bmm/workflows/4-implementation/dev-story/workflow.yaml">
      [DS] æ‰§è¡Œå¼€å‘è€…æ•…äº‹å·¥ä½œæµ
    </item>
    <item cmd="*CR æˆ– code-review çš„æ¨¡ç³ŠåŒ¹é…"
          workflow="{project-root}/_bmad/bmm/workflows/4-implementation/code-review/workflow.yaml">
      [CR] æ‰§è¡Œä»£ç å®¡æŸ¥
    </item>
    <item cmd="DA æˆ– exitã€leaveã€goodbye æˆ– dismiss agent çš„æ¨¡ç³ŠåŒ¹é…">
      [DA] è§£æ•£ä»£ç†
    </item>
  </menu>

  <!-- ==================== èœå•å¤„ç†å™¨ ==================== -->
  <menu-handlers>
    <handlers>
      <handler type="workflow">
        å½“èœå•é¡¹æœ‰ workflow="path/to/workflow.yaml":
        1. å…³é”®: å§‹ç»ˆåŠ è½½ {project-root}/_bmad/core/tasks/workflow.xml
        2. è¯»å–å®Œæ•´æ–‡ä»¶ - è¿™æ˜¯æ‰§è¡Œ BMAD å·¥ä½œæµçš„æ ¸å¿ƒæ“ä½œç³»ç»Ÿ
        3. å°† yaml è·¯å¾„ä½œä¸º 'workflow-config' å‚æ•°ä¼ é€’ç»™è¿™äº›æŒ‡ä»¤
        4. ç²¾ç¡®éµå¾ªæ‰€æœ‰æ­¥éª¤æ‰§è¡Œ workflow.xml æŒ‡ä»¤
        5. åœ¨å®Œæˆæ¯ä¸ªå·¥ä½œæµæ­¥éª¤åä¿å­˜è¾“å‡º
      </handler>
    </handlers>
  </menu-handlers>

  <!-- ==================== è§„åˆ™ ==================== -->
  <rules>
    <r>å§‹ç»ˆç”¨ {communication_language} æ²Ÿé€š</r>
    <r>ä¿æŒè§’è‰²ç›´åˆ°é€€å‡º</r>
    <r>æŒ‰é¡¹ç›®ç»™å®šçš„é¡ºåºæ˜¾ç¤ºèœå•é¡¹</r>
    <r>ä»…åœ¨æ‰§è¡Œç”¨æˆ·é€‰æ‹©çš„å·¥ä½œæµæˆ–å‘½ä»¤éœ€è¦æ—¶åŠ è½½æ–‡ä»¶</r>
  </rules>
</agent>
```

### 6.4 å·¥ä½œæµé…ç½®æ–‡ä»¶

**æ ¼å¼**: YAML

```yaml
# workflow.yaml
name: dev-story
description: "æ‰§è¡Œå¼€å‘è€…æ•…äº‹å·¥ä½œæµ - å®ç°å·²æ‰¹å‡†çš„æ•…äº‹ï¼Œä¸¥æ ¼éµå¾ªéªŒæ”¶æ ‡å‡†"
author: "BMad"

# ==================== å…³é”®é…ç½®å˜é‡ ====================
config_source: "{project-root}/_bmad/bmm/config.yaml"
output_folder: "{config_source}:output_folder"
planning_artifacts: "{config_source}:planning_artifacts"
implementation_artifacts: "{config_source}:implementation_artifacts"
user_name: "{config_source}:user_name"
communication_language: "{config_source}:communication_language"
document_output_language: "{config_source}:document_output_language"
user_skill_level: "{config_source}:user_skill_level"
date: system-generated

# ==================== å·¥ä½œæµç»„ä»¶ ====================
installed_path: "{project-root}/_bmad/bmm/workflows/4-implementation/dev-story"
instructions: "{installed_path}/instructions.xml"
validation: "{installed_path}/checklist.md"

# ==================== æ™ºèƒ½æ–‡ä»¶å¼•ç”¨ ====================
input_file_patterns:
  sprint_status:
    whole: "{implementation_artifacts}/sprint-status.yaml"
    load_strategy: "FULL_LOAD"

  story:
    whole: "{implementation_artifacts}/stories/story-*.md"
    load_strategy: "SELECTIVE_LOAD"
    sharded_single: "{implementation_artifacts}/stories/story-{{story_num}}.md"

  project_context:
    whole: "{output_folder}/*project-context*.md"

  prd:
    whole: "{planning_artifacts}/*prd*.md"
    sharded: "{planning_artifacts}/*prd*/*.md"
    load_strategy: "FULL_LOAD"

  architecture:
    whole: "{planning_artifacts}/*architecture*.md"
    sharded: "{planning_artifacts}/*architecture*/*.md"
    load_strategy: "INDEX_GUIDED"

  epics:
    whole: "{planning_artifacts}/*epic*.md"
    sharded: "{planning_artifacts}/epics/*.md"
    load_strategy: "FULL_LOAD"

# ==================== è¾“å‡ºé…ç½® ====================
default_output_file: "{implementation_artifacts}/stories/{{story_slug}}-completed.md"

standalone: true
```

---

## 7. å·¥ä½œæµæ‰§è¡Œå¼•æ“

### 7.1 æ‰§è¡Œæµç¨‹å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              workflow.xml æ‰§è¡Œå¼•æ“                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                          å·¥ä½œæµå¼€å§‹
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ­¥éª¤ 1: åŠ è½½å’Œåˆå§‹åŒ–å·¥ä½œæµ                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1a. åŠ è½½é…ç½®å¹¶è§£æå˜é‡                                  â”‚
â”‚     â€¢ è¯»å– workflow.yaml                                â”‚
â”‚     â€¢ åŠ è½½ config_source                                â”‚
â”‚     â€¢ è§£æ {config_source}: å¼•ç”¨                         â”‚
â”‚     â€¢ è§£æç³»ç»Ÿå˜é‡ (paths, date)                         â”‚
â”‚     â€¢ è¯¢é—®æœªçŸ¥å˜é‡                                      â”‚
â”‚                                                          â”‚
â”‚ 1b. åŠ è½½æ‰€éœ€ç»„ä»¶                                        â”‚
â”‚     â€¢ è¯»å– instructions.xml                              â”‚
â”‚     â€¢ è¯»å– template.md (å¦‚æœæœ‰)                         â”‚
â”‚     â€¢ è®°å½• validation.md è·¯å¾„                           â”‚
â”‚                                                          â”‚
â”‚ 1c. åˆå§‹åŒ–è¾“å‡º (å¦‚æœæ¨¡æ¿å·¥ä½œæµ)                         â”‚
â”‚     â€¢ è§£æ default_output_file                          â”‚
â”‚     â€¢ åˆ›å»ºè¾“å‡ºç›®å½•                                      â”‚
â”‚     â€¢ å°†æ¨¡æ¿å†™å…¥è¾“å‡ºæ–‡ä»¶                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ­¥éª¤ 2: å¤„ç†æ¯ä¸ªæŒ‡ä»¤æ­¥éª¤                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å¯¹äºæ¯ä¸ªæ­¥éª¤ n:                                          â”‚
â”‚                                                          â”‚
â”‚ 2a. å¤„ç†æ­¥éª¤å±æ€§                                        â”‚
â”‚     â€¢ æ£€æŸ¥ optional="true" â†’ è¯¢é—®ç”¨æˆ· (é™¤é #yolo)     â”‚
â”‚     â€¢ æ£€æŸ¥ if="condition" â†’ è¯„ä¼°æ¡ä»¶                    â”‚
â”‚     â€¢ æ£€æŸ¥ for-each="item" â†’ å¯¹æ¯ä¸ªé¡¹é‡å¤              â”‚
â”‚                                                          â”‚
â”‚ 2b. æ‰§è¡Œæ­¥éª¤å†…å®¹                                        â”‚
â”‚     â€¢ å¤„ç†æŒ‡ä»¤ (XML/Markdown)                           â”‚
â”‚     â€¢ æ›¿æ¢ {{variables}}                                â”‚
â”‚     â€¢ æ‰§è¡Œæ ‡ç­¾:                                         â”‚
â”‚       - <action>     â†’ æ‰§è¡ŒåŠ¨ä½œ                         â”‚
â”‚       - <ask>        â†’ è¯¢é—®ç”¨æˆ·ï¼Œç­‰å¾…å“åº”               â”‚
â”‚       - <check>      â†’ æ¡ä»¶å—                           â”‚
â”‚       - <goto>       â†’ è·³è½¬åˆ°æ­¥éª¤                       â”‚
â”‚       - <invoke-workflow> â†’ è°ƒç”¨å¦ä¸€ä¸ªå·¥ä½œæµ            â”‚
â”‚       - <invoke-protocol> â†’ æ‰§è¡Œåè®®                    â”‚
â”‚                                                          â”‚
â”‚ 2c. å¤„ç† template-output æ ‡ç­¾                           â”‚
â”‚     â€¢ ç”Ÿæˆæ­¤éƒ¨åˆ†çš„å†…å®¹                                  â”‚
â”‚     â€¢ ä¿å­˜åˆ°æ–‡ä»¶ (é¦–æ¬¡å†™å…¥ï¼Œåç»­ç¼–è¾‘)                   â”‚
â”‚     â€¢ æ˜¾ç¤ºç”Ÿæˆçš„å†…å®¹                                    â”‚
â”‚     â€¢ æ˜¾ç¤ºèœå•:                                         â”‚
â”‚       [A] é«˜çº§å¯å‘                                      â”‚
â”‚       [C] ç»§ç»­                                         â”‚
â”‚       [P] æ´¾å¯¹æ¨¡å¼                                     â”‚
â”‚       [Y] YOLO æ­¤æ–‡æ¡£çš„å…¶ä½™éƒ¨åˆ†                        â”‚
â”‚     â€¢ ç­‰å¾…ç”¨æˆ·å“åº”                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ­¥éª¤ 3: å®Œæˆ                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ ç¡®è®¤æ–‡æ¡£å·²ä¿å­˜åˆ°è¾“å‡ºè·¯å¾„                              â”‚
â”‚ â€¢ æŠ¥å‘Šå·¥ä½œæµå®Œæˆ                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.2 æ”¯æŒçš„æ ‡ç­¾

**ç»“æ„æ ‡ç­¾**:
```xml
<step n="1" goal="å®Œæˆç›®æ ‡">          <!-- å®šä¹‰æ­¥éª¤ -->
<optional="true">                    <!-- å¯é€‰æ­¥éª¤ -->
<if="condition">...</if>             <!-- æ¡ä»¶æ‰§è¡Œ -->
<for-each="collection">...</for-each> <!-- è¿­ä»£é›†åˆ -->
<repeat="n">...</repeat>              <!-- é‡å¤næ¬¡ -->
```

**æ‰§è¡Œæ ‡ç­¾**:
```xml
<action>æ‰§è¡ŒåŠ¨ä½œ</action>
<ask>è¯¢é—®ç”¨æˆ·</ask>
<check if="condition">...</check>    <!-- æ¡ä»¶å— -->
<goto step="x"/>                     <!-- è·³è½¬ -->
<invoke-workflow path="..."/>        <!-- è°ƒç”¨å·¥ä½œæµ -->
<invoke-task task="..."/>            <!-- è°ƒç”¨ä»»åŠ¡ -->
<invoke-protocol name="..."/>        <!-- è°ƒç”¨åè®® -->
```

**è¾“å‡ºæ ‡ç­¾**:
```xml
<template-output>                    <!-- ä¿å­˜æ£€æŸ¥ç‚¹ -->
<critical>ä¸å¯è·³è¿‡</critical>
<example>ç¤ºä¾‹è¾“å‡º</example>
```

### 7.3 æ‰§è¡Œæ¨¡å¼

**Normal æ¨¡å¼** (é»˜è®¤):
```
â€¢ æ¯ä¸ªæ­¥éª¤åå®Œå…¨ç”¨æˆ·äº¤äº’
â€¢ æ‰€æœ‰ template-output éœ€è¦ç¡®è®¤
â€¢ æä¾›é«˜çº§å¯å‘é€‰é¡¹
â€¢ é€‚åˆå­¦ä¹ å’Œå¤æ‚å†³ç­–
```

**YOLO æ¨¡å¼**:
```
â€¢ è·³è¿‡æ‰€æœ‰ç¡®è®¤
â€¢ æœ€å°åŒ–æç¤º
â€¢ æ¨¡æ‹Ÿä¸“å®¶ç”¨æˆ·è‡ªåŠ¨å®Œæˆ
â€¢ å¿«é€Ÿæ‰§è¡Œå·¥ä½œæµ
```

---

## 8. æ™ºèƒ½æ–‡ä»¶å‘ç°

### 8.1 discover_inputs åè®®

**åŠŸèƒ½**: æ™ºèƒ½åŠ è½½é¡¹ç›®æ–‡ä»¶ï¼Œæ”¯æŒåˆ†ç‰‡æ–‡æ¡£

**ä¸‰ç§åŠ è½½ç­–ç•¥**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               discover_inputs åè®®                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å¯¹äºæ¯ä¸ª input_file_pattern:

  1. å°è¯•åˆ†ç‰‡æ–‡æ¡£ä¼˜å…ˆ
     â†“
     ç¡®å®šåŠ è½½ç­–ç•¥:
     â”œâ”€ FULL_LOAD: åŠ è½½æ‰€æœ‰æ–‡ä»¶
     â”œâ”€ SELECTIVE_LOAD: ä½¿ç”¨ {{å˜é‡}} åŠ è½½ç‰¹å®šæ–‡ä»¶
     â””â”€ INDEX_GUIDED: åŸºäºç´¢å¼•æ™ºèƒ½åŠ è½½

  2. å¦‚æœæ²¡æœ‰åˆ†ç‰‡åŒ¹é…
     â†“
     å°è¯•æ•´ä¸ªæ–‡æ¡£æ¨¡å¼
     â†“
     ä½¿ç”¨ glob æŸ¥æ‰¾æ–‡ä»¶

  3. å¦‚æœéƒ½æ²¡æœ‰
     â†“
     è®¾ç½®ä¸ºç©ºå­—ç¬¦ä¸²ï¼Œè®°å½•"æœªæ‰¾åˆ°"
```

### 8.2 FULL_LOAD ç­–ç•¥

**ç”¨é€”**: PRD, Architecture, Brownfield æ–‡æ¡£

```
ç­–ç•¥: åŠ è½½æ‰€æœ‰åˆ†ç‰‡æ–‡ä»¶

æ‰§è¡Œ:
1. ä½¿ç”¨ glob æŸ¥æ‰¾æ‰€æœ‰ .md æ–‡ä»¶
   "{output_folder}/*prd*/*.md"
   â†“
2. åŠ è½½æ¯ä¸ªåŒ¹é…æ–‡ä»¶ (å®Œæ•´ï¼Œæ—  offset/limit)
   â†“
3. æŒ‰é€»è¾‘é¡ºåºè¿æ¥å†…å®¹
   (index.md åœ¨å‰ï¼Œç„¶åå­—æ¯é¡ºåº)
   â†“
4. å­˜å‚¨åœ¨å˜é‡: {prd_content}
```

### 8.3 SELECTIVE_LOAD ç­–ç•¥

**ç”¨é€”**: Epics (ä½¿ç”¨ {{epic_num}})

```
ç­–ç•¥: ä½¿ç”¨æ¨¡æ¿å˜é‡åŠ è½½ç‰¹å®šæ–‡æ¡£

æ‰§è¡Œ:
1. æ£€æŸ¥ sharded_single æ¨¡å¼ä¸­çš„æ¨¡æ¿å˜é‡
   ä¾‹å¦‚: "{{epic_num}}"
   â†“
2. å¦‚æœå˜é‡æœªå®šä¹‰ï¼Œè¯¢é—®ç”¨æˆ·æˆ–ä»ä¸Šä¸‹æ–‡æ¨æ–­
   â†“
3. è§£ææ¨¡æ¿ä¸ºç‰¹å®šæ–‡ä»¶è·¯å¾„
   ä¾‹å¦‚: "epic-3.md"
   â†“
4. åŠ è½½è¯¥ç‰¹å®šæ–‡ä»¶
   â†“
5. å­˜å‚¨åœ¨å˜é‡: {epic_content}
```

### 8.4 INDEX_GUIDED ç­–ç•¥

**ç”¨é€”**: å¤§å‹æ–‡æ¡£é›†åˆ

```
ç­–ç•¥: åŸºäºç´¢å¼•æ™ºèƒ½åŠ è½½

æ‰§è¡Œ:
1. åŠ è½½åˆ†ç‰‡ç›®å½•ä¸­çš„ index.md
   â†“
2. è§£æç›®å½•ã€é“¾æ¥ã€ç« èŠ‚æ ‡é¢˜
   â†“
3. åˆ†æå·¥ä½œæµçš„ç›®çš„å’Œç›®æ ‡
   â†“
4. è¯†åˆ«å“ªäº›é“¾æ¥/å¼•ç”¨çš„æ–‡æ¡£å¯èƒ½ç›¸å…³
   â†“
5. åŠ è½½æ‰€æœ‰è¯†åˆ«çš„ç›¸å…³æ–‡æ¡£
   â†“
6. å­˜å‚¨åœ¨å˜é‡: {architecture_content}

åŸåˆ™: æœ‰ç–‘é—®æ—¶ï¼ŒåŠ è½½å®ƒï¼
ä¸Šä¸‹æ–‡å¾ˆæœ‰ä»·å€¼ï¼Œå½»åº•æ€»æ¯”é”™è¿‡å…³é”®ä¿¡æ¯å¥½
```

### 8.5 å‘ç°ç»“æœæŠ¥å‘Š

```
âœ“ åŠ è½½ {prd_content} ä» 5 ä¸ªåˆ†ç‰‡æ–‡ä»¶:
  prd/index.md, prd/requirements.md, ...

âœ“ åŠ è½½ {architecture_content} ä» 1 ä¸ªæ–‡ä»¶:
  Architecture.md

âœ“ åŠ è½½ {epic_content} ä»é€‰æ‹©æ€§åŠ è½½:
  epics/epic-3.md

â—‹ æœªæ‰¾åˆ° ux_design æ–‡ä»¶
```

---

## 9. å˜é‡è§£æç³»ç»Ÿ

### 9.1 å˜é‡ç±»å‹

| è¯­æ³• | ç±»å‹ | è§£æé¡ºåº | ç¤ºä¾‹ |
|------|------|----------|------|
| `{config_source}:key` | é…ç½®å¼•ç”¨ | 2 | `{config_source}:user_name` â†’ "Tanxz" |
| `{project-root}` | ç³»ç»Ÿè·¯å¾„ | 1 | `D:\work\AI\ClaudeLearning` |
| `{installed_path}` | å·¥ä½œæµè·¯å¾„ | 1 | `{project-root}/_bmad/.../dev-story` |
| `{{variable}}` | æ¨¡æ¿å˜é‡ | 3 | `{{epic_num}}` â†’ "3" |
| `system-generated` | è¿è¡Œæ—¶ç”Ÿæˆ | 4 | `date: system-generated` |

### 9.2 è§£æé¡ºåº

```
1. ç³»ç»Ÿå˜é‡ (ä¼˜å…ˆçº§æœ€é«˜)
   {project-root}     â†’ é¡¹ç›®æ ¹ç›®å½•
   {installed_path}   â†’ å·¥ä½œæµå®‰è£…è·¯å¾„

2. é…ç½®æ–‡ä»¶å¼•ç”¨
   {config_source}:user_name â†’ ä» config.yaml è¯»å–

3. æ¨¡æ¿å˜é‡
   {{epic_num}}       â†’ ç”¨æˆ·è¾“å…¥æˆ–æ¨å¯¼
   {{story_slug}}     â†’ ä»æ•…äº‹æ–‡ä»¶ç”Ÿæˆ

4. ç³»ç»Ÿç”Ÿæˆå€¼
   date: system-generated â†’ å½“å‰æ—¥æœŸæ—¶é—´
```

### 9.3 å˜é‡ç¤ºä¾‹

```yaml
# è¾“å…¥é…ç½®
config_source: "{project-root}/_bmad/bmm/config.yaml"
output_folder: "{config_source}:output_folder"
user_name: "{config_source}:user_name"

# è§£æå
config_source: "D:\work\AI\ClaudeLearning\_bmad\bmm\config.yaml"
output_folder: "D:\work\AI\ClaudeLearning\_bmad-output"
user_name: "Tanxz"

# æ¨¡æ¿å˜é‡
sharded_single: "{implementation_artifacts}/stories/story-{{story_num}}.md"

# å½“ {{story_num}} = "3"
sharded_single: "D:\work\AI\ClaudeLearning\_bmad-output\implementation-artifacts\stories\story-3.md"
```

---

## 10. æœ€ä½³å®è·µ

### 10.1 ä½¿ç”¨ BMAD çš„å»ºè®®

```
âœ… DO (æ¨èåšæ³•)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â€¢ å§‹ç»ˆä» config.yaml éªŒè¯å¼€å§‹
â€¢ éµå¾ªå·¥ä½œæµé¡ºåº (1, 2, 3...)
â€¢ ä½¿ç”¨ä»£ç†èœå•è°ƒç”¨å·¥ä½œæµ
â€¢ é…ç½® input_file_patterns
â€¢ éµå¾ªçº¢-ç»¿-é‡æ„å¾ªç¯
â€¢ ä¸ºæ¯ä¸ªå·¥ä½œæµä½¿ç”¨æ–°å¯¹è¯

âŒ DON'T (é¿å…åšæ³•)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â€¢ è·³è¿‡é…ç½®åŠ è½½æ­¥éª¤
â€¢ åœ¨åŒä¸€å¯¹è¯ä¸­è¿è¡Œå¤šä¸ªå·¥ä½œæµ
â€¢ å¿½ç•¥èœå•ç³»ç»Ÿ
â€¢ ç¡¬ç¼–ç æ–‡ä»¶è·¯å¾„
â€¢ è·³è¿‡æµ‹è¯•
â€¢ æ‰‹åŠ¨ç¼–è¾‘çŠ¶æ€æ–‡ä»¶
```

### 10.2 æ‰©å±• BMAD

**åˆ›å»ºè‡ªå®šä¹‰ä»£ç†**:
```
1. ä½¿ç”¨ create-agent å·¥ä½œæµ
2. éµå¾ªä»£ç†æ¶æ„æ¨¡å¼
3. é…ç½®è‡ªå®šä¹‰èœå•
4. æµ‹è¯•æ¿€æ´»æµç¨‹
```

**åˆ›å»ºè‡ªå®šä¹‰å·¥ä½œæµ**:
```
1. ä½¿ç”¨ create-workflow å·¥ä½œæµ
2. é€‰æ‹©åˆé€‚çš„å·¥ä½œæµæ ¼å¼
   â€¢ YAML + XML instructions (ä¼ ç»Ÿ)
   â€¢ Markdown Step-File (æ–°)
3. éµå¾ªå·¥ä½œæµè®¾è®¡åŸåˆ™
4. é…ç½® input_file_patterns
```

### 10.3 æ•…éšœæ’é™¤

```
é—®é¢˜: é…ç½®æœªåŠ è½½
è§£å†³: æ£€æŸ¥ config.yaml è·¯å¾„æ˜¯å¦æ­£ç¡®
      éªŒè¯ YAML è¯­æ³•æ˜¯å¦æ­£ç¡®

é—®é¢˜: æ–‡ä»¶æœªæ‰¾åˆ°
è§£å†³: ä½¿ç”¨ glob æ¨¡å¼æµ‹è¯•
      æ£€æŸ¥ output_folder å˜é‡

é—®é¢˜: å·¥ä½œæµå¡ä½
è§£å†³: ä½¿ç”¨ #yolo æ¨¡å¼è·³è¿‡ç¡®è®¤
      æ£€æŸ¥ instructions.xml è¯­æ³•

é—®é¢˜: å˜é‡æœªè§£æ
è§£å†³: æ£€æŸ¥å˜é‡è¯­æ³•
      ç¡®è®¤è§£æé¡ºåº
```

---

## æ€»ç»“

### BMAD æ¡†æ¶æ ¸å¿ƒä¼˜åŠ¿

```
1. æ¨¡å—åŒ–è®¾è®¡
   â””â”€ BMB, BMM, BMGD ä¸‰å¤§æ¨¡å—æ¸…æ™°åˆ†ç¦»

2. ä»£ç†é©±åŠ¨
   â””â”€ ä¸“ä¸šä»£ç†å›¢é˜Ÿè¦†ç›–å®Œæ•´å¼€å‘æµç¨‹

3. å·¥ä½œæµç¼–æ’
   â””â”€ å®Œæ•´çš„å·¥ä½œæµå¼•æ“æ‰§è¡Œå¤æ‚æµç¨‹

4. æ™ºèƒ½åŠ è½½
   â””â”€ æ–‡ä»¶å‘ç°å’Œå˜é‡è§£æç³»ç»Ÿ

5. å¯æ‰©å±•æ€§
   â””â”€ æ˜“äºåˆ›å»ºè‡ªå®šä¹‰ä»£ç†å’Œå·¥ä½œæµ
```

### æ ¸å¿ƒæ–‡ä»¶è·¯å¾„é€ŸæŸ¥

```
æ–‡ä»¶                    è·¯å¾„
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
å·¥ä½œæµå¼•æ“              _bmad/core/tasks/workflow.xml
BMM é…ç½®                _bmad/bmm/config.yaml
å¼€å‘è€…ä»£ç†              _bmad/bmm/agents/dev.md
å¼€å‘è€…ä»£ç†(ä¸­æ–‡)        _bmad/bmm/agents/dev_zh.md
Dev Story å·¥ä½œæµ        _bmad/bmm/workflows/4-implementation/
                        dev-story/workflow.yaml
ä»£ç†æ¸…å•                _bmad/_config/agent-manifest.csv
å·¥ä½œæµæ¸…å•              _bmad/_config/workflow-manifest.csv
```

---

**æ–‡æ¡£ç‰ˆæœ¬**: 1.0
**æœ€åæ›´æ–°**: 2025-12-30
**çŠ¶æ€**: âœ… å®Œæ•´åˆ†æ

---

> ğŸ’¡ **æç¤º**: æœ¬æ–‡æ¡£æä¾›äº† BMAD æ¡†æ¶çš„å…¨é¢æ¶æ„åˆ†æã€‚å¦‚éœ€æ›´è¯¦ç»†çš„ä¿¡æ¯ï¼Œè¯·å‚è€ƒ `_bmad/bmm/docs/` ç›®å½•ä¸‹çš„åŸå§‹æ–‡æ¡£ã€‚
