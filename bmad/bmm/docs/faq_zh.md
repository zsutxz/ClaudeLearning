# BMM 常见问题解答

BMad方法模块常见问题的快速解答。

---

## 目录

- [入门指南](#入门指南)
- [选择正确的级别](#选择正确的级别)
- [工作流和阶段](#工作流和阶段)
- [规划文档](#规划文档)
- [实施](#实施)
- [棕地开发](#棕地开发)
- [工具和技术](#工具和技术)

---

## 入门指南

### 问：我总是需要运行 workflow-init 吗？

**答：** 不需要，一旦您熟悉了流程，可以直接进入工作流。不过，workflow-init 很有帮助，因为它：

- 自动确定您项目的适当级别
- 创建跟踪状态文件
- 引导您到正确的起始工作流

对于有经验的用户：使用[快速参考](./quick-start.md#quick-reference-agent-document-mapping)直接转到正确的代理/工作流。

### 问：为什么每个工作流都需要新的聊天？

**答：** 上下文密集的工作流（如头脑风暴、PRD创建、架构设计）如果在同一聊天中顺序运行，可能会导致AI幻觉。重新开始确保代理在每个工作流中有最大的上下文容量。这对于以下内容特别重要：

- 规划工作流（PRD、架构）
- 分析工作流（头脑风暴、研究）
- 复杂故事实施

快速工作流如状态检查可以安全地重用聊天。

### 问：我可以跳过 workflow-status 直接开始工作吗？

**答：** 可以，如果您已经知道您的项目级别和下一个工作流是什么。workflow-status 主要用于：

- 新项目（指导初始设置）
- 当您不确定下一步做什么时
- 工作间断后（提醒您在哪里停止）
- 检查整体进度

### 问：开始的最基本要求是什么？

**答：** 最快的路径：

1. 安装 BMad 方法：`npx bmad-method@alpha install`
2. 对于小更改：加载PM代理 → 运行tech-spec → 实施
3. 对于大型项目：加载PM代理 → 运行prd → 架构师 → 实施

### 问：我怎么知道我是在阶段1、2、3还是4？

**答：** 检查您的`bmm-workflow-status.md`文件（由workflow-init创建）。它显示您当前的阶段和进度。如果您没有这个文件，也可以通过您正在做的事情来判断：

- **阶段1** - 头脑风暴、研究、产品简介（可选）
- **阶段2** - 创建PRD或tech-spec（总是必需的）
- **阶段3** - 架构设计（仅2-4级）
- **阶段4** - 实际编写代码、实施故事

---

## 选择正确的级别

### 问：我怎么知道我的项目是哪个级别？

**答：** 使用workflow-init进行自动检测，或使用这些关键词自我评估：

- **级别0：** "修复"、"错误"、"拼写错误"、"小更改"、"补丁" → 1个故事
- **级别1：** "简单"、"基本"、"小功能"、"添加" → 2-10个故事
- **级别2：** "仪表板"、"几个功能"、"管理面板" → 5-15个故事
- **级别3：** "平台"、"集成"、"复杂"、"系统" → 12-40个故事
- **级别4：** "企业"、"多租户"、"多个产品" → 40+个故事

如有疑问，从较小的开始。如果需要，您以后可以运行create-prd。

### 问：我可以在项目中途更改级别吗？

**答：** 可以！如果您从级别1开始但意识到是级别2，可以运行create-prd添加适当的规划文档。系统是灵活的 - 您的初始级别选择不是永久的。

### 问：如果workflow-init建议了错误的级别怎么办？

**答：** 您可以覆盖它！workflow-init建议一个级别但总是要求确认。如果您不同意，就这么说并选择您认为合适的级别。相信您的判断。

### 问：级别2总是需要架构吗？

**答：** 不，级别2的架构是**可选的**。仅当您需要系统级设计时才创建架构。许多级别2项目仅用PRD + 实施期间创建的epic-tech-context就能很好地工作。

### 问：级别1和级别2有什么区别？

**答：**

- **级别1：** 1-10个故事，使用tech-spec（更简单、更快），无架构
- **级别2：** 5-15个故事，使用PRD（产品聚焦），可选架构

重叠（5-10个故事）是故意的。基于以下选择：

- 需要产品级规划？→ 级别2
- 只需要技术计划？→ 级别1
- 多个史诗？→ 级别2
- 单个史诗？→ 级别1

---

## 工作流和阶段

### 问：workflow-status和workflow-init有什么区别？

**答：**

- **workflow-status：** 检查现有状态并告诉您下一步做什么（继续工作时使用）
- **workflow-init：** 创建新状态文件并设置项目（开始新项目时使用）

如果状态文件存在，使用workflow-status。如果不存在，使用workflow-init。

### 问：我可以跳过阶段1（分析）吗？

**答：** 可以！阶段1对所有级别都是可选的，但对于复杂项目推荐使用。如果以下情况则跳过：

- 需求清晰
- 不需要研究
- 时间敏感的工作
- 小更改（级别0-1）

### 问：什么时候需要阶段3（架构）？

**答：**

- **级别0-1：** 从不（完全跳过）
- **级别2：** 可选（仅当需要系统设计时）
- **级别3-4：** 必需（需要全面架构）

### 问：如果我跳过推荐的工作流会怎么样？

**答：** 不会破坏任何东西！工作流是指导，不是强制。但是，跳过推荐的工作流（如级别3的架构）可能导致：

- 实施期间的集成问题
- 由于规划不充分而返工
- 冲突的设计决策
- 总体开发时间更长

### 问：我怎么知道阶段3完成并且可以开始阶段4？

**答：** 对于级别3-4，运行solutioning-gate-check工作流。它在实施前验证PRD、架构和UX（如果适用）是内聚的。通过网关检查 = 准备好阶段4。

### 问：我可以并行运行工作流还是必须顺序运行？

**答：** 大多数工作流在一个阶段内必须是顺序的：

- 阶段1：头脑风暴 → 研究 → 产品简介（可选顺序）
- 阶段2：PRD必须完成才能前进
- 阶段3：架构 → 验证 → 网关检查（顺序）
- 阶段4：史诗内的故事通常应该是顺序的，但如果您有容量，不同史诗中的故事可以并行

---

## 规划文档

### 问：tech-spec和epic-tech-context有什么区别？

**答：**

- **Tech-spec（级别0-1）：** 在规划阶段预先创建，作为主要/唯一的规划文档，是足够技术和规划信息的组合，以驱动一个或多个文件
- **Epic-tech-context（级别2-4）：** 在实施阶段为每个史诗创建，补充PRD + 架构

可以这样理解：tech-spec用于小项目（替换PRD和架构），epic-tech-context用于大项目（补充PRD）。

### 问：为什么级别2+没有tech-spec？

**答：** 级别2+项目需要产品级规划（PRD）和系统级设计（架构），tech-spec不提供这些。Tech-spec对于协调多个功能来说太窄了。相反，级别2-4使用：

- PRD（产品愿景、需求、史诗）
- 架构（系统设计）
- Epic-tech-context（每个史诗的详细实施，即时创建）

### 问：我什么时候创建epic-tech-context？

**答：** 在阶段4，就在实施每个史诗之前。不要预先创建所有epic-tech-context - 那是过度规划。在您即将开始处理该史诗时，使用epic-tech-context工作流即时创建它们。

**为什么即时？** 您将从早期史诗中学到东西，这些学习将改进后续的epic-tech-context。

### 问：错误修复需要PRD吗？

**答：** 不需要！错误修复通常是级别0（单一原子更改）。使用快速规范流程：

- 加载PM代理
- 运行tech-spec工作流
- 立即实施

PRD用于需要产品级协调的多个功能的级别2-4项目。

### 问：我可以跳过产品简介吗？

**答：** 可以，产品简介总是可选的。它最有价值的情况是：

- 需要战略方向的级别3-4项目
- 需要利益相关者对齐的项目
- 需要市场研究的新颖产品
- 当您在承诺前想要探索解决方案空间时

---

## 实施

### 问：每个故事都需要story-context吗？

**答：** 技术上不需要，但推荐使用。story-context提供实施特定指导、引用现有模式并注入专业知识。仅在以下情况跳过：

- 非常简单的故事（不言自明）
- 您已经是该领域的专家
- 时间极其有限

对于使用tech-spec的级别0-1，story-context不太关键，因为tech-spec已经很全面。

### 问：如果我在起草故事之前没有创建epic-tech-context怎么办？

**答：** 您可以在没有它的情况下继续，但您会错过：

- 史诗级技术方向
- 这个史诗的架构指导
- 与其他史诗的集成策略
- 故事间要遵循的通用模式

epic-tech-context帮助确保史诗内的故事是内聚的。

### 问：我怎么标记故事为完成？

**答：** 您有两个选项：

**选项1：使用story-done工作流（推荐）**

1. 加载SM代理
2. 运行`story-done`工作流
3. 工作流自动更新`sprint-status.yaml`（在阶段4开始时由sprint-planning创建）
4. 将故事从当前状态移动到`DONE`
5. 推进故事队列

**选项2：手动更新**

1. 在dev-story完成和code-review通过后
2. 打开`sprint-status.yaml`（由sprint-planning创建）
3. 将故事状态从`review`更改为`done`
4. 保存文件

story-done工作流更快并确保正确的状态文件更新。

### 问：我可以同时处理多个故事吗？

**答：** 可以，如果您有容量！不同史诗中的故事可以并行工作。但是，同一史诗中的故事通常是顺序的，因为它们相互构建。

### 问：如果我的故事比估计的时间长怎么办？

**答：** 这是正常的！故事是估计。如果实施揭示了更多复杂性：

1. 继续工作直到满足DoD
2. 考虑是否应该拆分故事
3. 在回顾中记录学习
4. 基于此学习调整未来估计

### 问：我什么时候应该运行回顾？

**答：** 在完成史诗中的所有故事后（当史诗完成时）。回顾捕获：

- 什么进展顺利
- 什么可以改进
- 技术见解
- 下一个epic-tech-context的输入

不要等到项目结束 - 在每个史诗后运行以持续改进。

---

## 棕地开发

### 问：什么是棕地与绿地？

**答：**

- **绿地：** 新项目，从头开始，干净的状态
- **棕地：** 现有项目，与已建立的代码库和模式一起工作

### 问：我必须为棕地运行document-project吗？

**答：** 强烈推荐，特别是如果：

- 没有现有文档
- 文档过时
- AI代理需要关于现有代码的上下文
- 级别2-4复杂性

如果您有包括`docs/index.md`在内的全面、最新的文档，可以跳过它。

### 问：如果我忘记在棕地上运行document-project怎么办？

**答：** 工作流将缺乏关于现有代码的上下文。您可能会得到：

- 与现有模式不匹配的建议
- 错过现有API的集成方法
- 与当前结构冲突的架构

运行document-project并使用适当的上下文重新开始规划。

### 问：我可以将快速规范流程用于棕地项目吗？

**答：** 可以！快速规范流程非常适合棕地。它将：

- 自动检测您现有的堆栈
- 分析棕地代码模式
- 检测约定并要求确认
- 生成尊重现有代码的丰富上下文tech-spec

非常适合现有代码库中的错误修复和小功能。

### 问：workflow-init如何处理带有旧规划文档的棕地？

**答：** workflow-init首先询问关于您当前的工作，然后将旧工件作为上下文使用：

1. 显示它找到的内容（旧PRD、史诗等）
2. 询问："这是进行中的工作、之前的努力还是提议的工作？"
3. 如果是之前的努力：要求您描述您的新工作
4. 根据您的工作确定级别，不是旧工件

这可以防止旧的级别3 PRD强迫新的级别0错误修复使用级别3工作流。

### 问：如果我的现有代码不遵循最佳实践怎么办？

**答：** 快速规范流程检测您的约定并询问："我应该遵循这些现有约定吗？" 您决定：

- **是** → 与当前代码库保持一致
- **否** → 建立新标准（在tech-spec中记录原因）

BMM尊重您的选择 - 它不会强制现代化，但会提供。

---

## 工具和技术

### 问：为什么我的Mermaid图表不渲染？

**答：** 常见问题：

1. 缺少语言标签：使用` ```mermaid`而不是仅` ``` `
2. 图表中的语法错误（在mermaid.live验证）
3. 工具不支持Mermaid（检查您的Markdown渲染器）

所有BMM文档都使用有效的Mermaid语法，应该在GitHub、VS Code和大多数IDE中渲染。

### 问：我可以将BMM与GitHub Copilot / Cursor / 其他AI工具一起使用吗？

**答：** 可以！BMM是互补的。BMM处理：

- 项目规划和结构
- 工作流编排
- 代理个性和专业知识
- 文档生成
- 质量网关

您的AI编码助手处理：

- 逐行代码补全
- 快速重构
- 测试生成

一起使用它们以获得最佳结果。

### 问：哪些IDE/工具支持BMM？

**答：** BMM需要具有**代理模式**并访问**高质量LLM模型**的工具，这些模型可以加载和遵循复杂工作流，然后正确实施代码更改。

**推荐工具：**

- **Claude Code** ⭐ **最佳选择**
  - Sonnet 4.5（优秀的工作流遵循、编码、推理）
  - Opus（最大上下文、复杂规划）
  - 为BMM工作流设计的原生代理模式

- **Cursor**
  - 支持Anthropic（Claude）和OpenAI模型
  - 带有作曲家的代理模式
  - 适合喜欢Cursor UX的开发人员

- **Windsurf**
  - 多模型支持
  - 代理能力
  - 适合BMM工作流

**重要的是：**

1. **代理模式** - 可以加载长工作流指令并保持上下文
2. **高质量LLM** - 在SWE-bench（编码基准）上排名高的模型
3. **模型选择** - 访问Claude Sonnet 4.5、Opus或GPT-4o级模型
4. **上下文容量** - 可以处理大型规划文档和代码库

**为什么模型质量重要：** BMM工作流需要能够遵循多步骤过程、跨阶段保持上下文并实施符合规范的代码的LLM。具有较弱模型的工具将在工作流遵循和代码质量方面遇到困难。

有关配置细节，请参见[IDE设置指南](https://github.com/bmad-code-org/BMAD-METHOD/tree/main/docs/ide-info)。

### 问：我可以定制代理吗？

**答：** 可以！代理作为带有XML样式内容的markdown文件安装（为LLM优化，任何模型都可读）。在`bmad/_cfg/agents/[agent-name].customize.yaml`中创建定制文件以覆盖默认行为，同时保持核心功能完整。有关定制选项，请参阅代理文档。

**注意：** 虽然此仓库中的源代理是YAML，但它们安装为带有XML样式标签的`.md`文件 - 任何LLM都可以读取和遵循的格式。

### 问：实施后我的规划文档会怎么样？

**答：** 保留它们！它们作为：

- 决策的历史记录
- 新团队成员的入职材料
- 未来增强的参考
- 合规性的审计跟踪

对于企业项目（级别4），考虑归档完成的规划工件以保持工作空间整洁。

### 问：我可以将BMM用于非软件项目吗？

**答：** BMM针对软件开发进行了优化，但方法论原则（规模自适应规划、即时设计、上下文注入）可以应用于其他复杂项目类型。您需要为您的领域调整工作流和代理。

---

## 高级问题

### 问：如果我的项目从级别1增长到级别3怎么办？

**答：** 完全没问题！当您意识到范围已经增长时：

1. 运行create-prd添加产品级规划
2. 运行create-architecture进行系统设计
3. 使用现有tech-spec作为PRD的输入
4. 以更新的级别继续

系统是灵活的 - 增长是预期的。

### 问：我可以混合绿地和棕地方法吗？

**答：** 可以！常见场景：向棕地代码库添加新的绿地功能。方法：

1. 为棕地上下文运行document-project
2. 为新功能规划使用绿地工作流
3. 明确记录新旧之间的集成点
4. 彻底测试集成

### 问：在冲刺期间我如何处理紧急热修复？

**答：** 使用correct-course工作流或者：

1. 保存您当前的工作状态
2. 加载PM代理 → 热修复的快速tech-spec
3. 实施热修复（级别0流程）
4. 部署热修复
5. 返回原始冲刺工作

级别0快速规范流程非常适合紧急修复。

### 问：如果我不同意工作流的建议怎么办？

**答：** 工作流是指导，不是强制。如果工作流推荐了对您的上下文没有意义的东西：

- 向代理解释您的推理
- 询问替代方法
- 如果您有信心，跳过建议
- 记录为什么您偏离（供将来参考）

相信您的专业知识 - BMM支持您的决策。

### 问：多个开发人员可以在同一个BMM项目上工作吗？

**答：** 可以！但范式与传统敏捷团队根本不同。

**关键差异：**

- **传统：** 多个开发人员在一个史诗内处理故事（数月）
- **代理：** 每个开发人员拥有完整的史诗（数天）

**在传统敏捷中：** 一个5个开发人员的团队可能在单个史诗上花费2-3个月，每个开发人员拥有不同的故事。

**使用BMM + AI代理：** 单个开发人员可以在1-3天内完成整个史诗。过去需要数月的事情现在需要数天。

**团队工作分配：**

- **推荐：** 按**史诗**（不是故事）拆分工作
- 每个开发人员端到端拥有完整的史诗
- 并行工作发生在史诗级别
- 需要最少的协调

**对于全栈应用：**

- 前端和后端可以是独立的史诗（在传统敏捷中不寻常）
- 前端开发拥有所有前端史诗
- 后端开发拥有所有后端史诗
- 有效是因为交付如此快速

**企业考虑：**

- 使用**git子模块**进行BMM安装（不是.gitignore）
- 允许个人配置而不污染主仓库
- 团队可能使用不同的AI工具（Claude Code、Cursor等）
- 开发人员可能遵循不同的方法或创建定制代理/工作流

**快速技巧：**

- 共享`sprint-status.yaml`（单一真实来源）
- 将完整史诗分配给开发人员（不是单个故事）
- 在史诗边界协调，不是故事级别
- 在企业设置中使用git子模块进行BMM

**有关企业团队协作、工作分配策略、git子模块设置和速度期望的全面覆盖，请参见：**

👉 **[企业代理开发指南](./enterprise-agentic-development.md)**

### 问：什么是派对模式，我什么时候应该使用它？

**答：** 派对模式是一个独特的多代理协作功能，其中您所有已安装的代理（来自BMM、CIS、BMB、定制模块的19+个）实时一起讨论您的挑战。

**工作原理：**

1. 运行`/bmad:core:workflows:party-mode`（或从任何代理运行`*party-mode`）
2. 介绍您的主题
3. BMad主控每条消息选择2-3个最相关的代理
4. 代理交叉交谈、辩论并基于彼此的想法构建

**最适合：**

- 有权衡的战略决策（架构选择、技术堆栈、范围）
- 创造性头脑风暴（游戏设计、产品创新、UX构思）
- 跨职能对齐（史诗启动、回顾、阶段转换）
- 复杂问题解决（多方面挑战、风险评估）

**示例派对：**

- **产品策略：** PM + 创新策略师（CIS） + 分析师
- **技术设计：** 架构师 + 创造性问题解决者（CIS） + 游戏架构师
- **用户体验：** UX设计师 + 设计思维教练（CIS） + 故事讲述者（CIS）

**为什么强大：**

- 多样化视角（技术、创意、战略）
- 健康辩论揭示盲点
- 从代理互动中产生的涌现见解
- 跨模块的自然协作

**有关完整文档：**

👉 **[派对模式指南](./party-mode.md)** - 工作原理、何时使用、示例组合、最佳实践

---

## 获取帮助

### 问：如果我的问题在这里没有回答，我从哪里获得帮助？

**答：**

1. 在[完整文档](./README.md)中搜索相关主题
2. 在[Discord社区](https://discord.gg/gk8jAdXWmj)中询问（#general-dev）
3. 打开[GitHub问题](https://github.com/bmad-code-org/BMAD-METHOD/issues)
4. 观看[YouTube教程](https://www.youtube.com/@BMadCode)

### 问：我怎么报告错误或请求功能？

**答：** 在以下位置打开GitHub问题：https://github.com/bmad-code-org/BMAD-METHOD/issues

请包括：

- BMM版本（检查您的安装版本）
- 重现步骤（对于错误）
- 预期与实际行为
- 涉及的相关工作流或代理

---

## 相关文档

- [快速入门指南](./quick-start.md) - 开始使用BMM
- [术语表](./glossary.md) - 术语参考
- [规模自适应系统](./scale-adaptive-system.md) - 理解级别
- [棕地指南](./brownfield-guide.md) - 现有代码库工作流

---

**有未在此回答的问题吗？** 请[打开问题](https://github.com/bmad-code-org/BMAD-METHOD/issues)或在[Discord](https://discord.gg/gk8jAdXWmj)中询问，以便我们可以添加它！